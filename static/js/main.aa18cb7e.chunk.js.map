{"version":3,"sources":["Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/Modal/Modal.js","Components/ImageGallery/ImageGallery.js","Components/Button/Button.js","Components/Loader/Loader.js","App.js","index.js"],"names":["Searchbar","state","searchQuery","handleInput","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","props","onSubmit","className","this","type","onChange","autoComplete","autoFocus","placeholder","React","Component","ImageGalleryItem","onClickGalleryItem","src","srcOriginal","id","alt","onClick","data-id","data-source","modalRoot","document","getElementById","Modal","handleKeydown","closeModalByKeydown","window","addEventListener","removeEventListener","srcImgModal","altImgModal","closeModalByClick","createPortal","ImageGallery","showModal","openModal","target","dataset","source","code","imageData","map","el","webformatURL","largeImageURL","tags","uuidv4","propsType","hits","PropTypes","array","isRequired","Button","loadMore","data-action","loaderRoot","LoaderWatch","color","height","width","timeout","toast","configure","App","isLoading","page","error","totalHits","getImageData","fetch","then","res","json","result","prevState","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","data","warn","prevProps","length","Loader","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.aa18cb7e.chunk.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nclass Searchbar extends React.Component {\r\n  state = { searchQuery: '' };\r\n  \r\n  handleInput = (e) => {\r\n    this.setState({ searchQuery: e.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.searchQuery);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"Button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            onChange={this.handleInput}\r\n            value={this.state.searchQuery}\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  };\r\n};\r\n\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\n\r\nexport default Searchbar;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({onClickGalleryItem, src, srcOriginal, id, alt}) => {\r\n  return (\r\n    <li className=\"ImageGalleryItem\"  onClick={onClickGalleryItem}>\r\n      <img\r\n        src={src}\r\n        alt={alt}\r\n        data-id={id}\r\n        data-source={srcOriginal}\r\n        className=\"ImageGalleryItem-image\" />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  src: PropTypes.string.isRequired,\r\n  srcOriginal: PropTypes.string.isRequired,\r\n  id: PropTypes.number.isRequired,\r\n  alt: PropTypes.string.isRequired,\r\n  onClickGalleryItem: PropTypes.func.isRequired,\r\n\r\n};\r\n\r\n\r\n\r\nexport default ImageGalleryItem;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { createPortal } from 'react-dom';\r\nconst modalRoot = document.getElementById('modal-root');\r\n\r\nclass Modal extends React.Component {\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeydown);\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeydown);\r\n  };\r\n\r\n  handleKeydown = (e) => {\r\n    this.props.closeModalByKeydown(e);\r\n  };\r\n  \r\n  render() {\r\n    const { srcImgModal, altImgModal, closeModalByClick  } = this.props;\r\n    return createPortal(\r\n      <div className=\"Overlay\" onClick={closeModalByClick}>\r\n        <div className=\"Modal\">\r\n          <img src={srcImgModal} alt={altImgModal} />\r\n          <button type=\"button\" className=\"ModalClose-button\" onClick={closeModalByClick}>\r\n            <span className=\"Button-label\">Close</span>\r\n          </button>\r\n        </div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  };\r\n};\r\n\r\nModal.propTypes = {\r\n  srcImgModal: PropTypes.string.isRequired,\r\n  altImgModal: PropTypes.string.isRequired,\r\n  closeModalByClick: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Modal;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport Modal from '../Modal';\r\n\r\n\r\n\r\n\r\nclass ImageGallery extends React.Component {\r\n  state = {\r\n    showModal: false,\r\n    srcImgModal: '',\r\n    altImgModal: ''\r\n  };\r\n\r\n  openModal = (e) => {\r\n    this.setState({\r\n      showModal: true,\r\n      srcImgModal: e.target.dataset.source,\r\n      altImgModal: e.target.alt\r\n    });\r\n  };\r\n\r\n  closeModalByClick = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      this.setState({\r\n        showModal: false,\r\n        srcImgModal: '',\r\n        altImgModal: ''\r\n      });\r\n    };\r\n  };\r\n\r\n  closeModalByKeydown = (e) => {\r\n    if (e.code === 'Escape') {\r\n      this.setState({\r\n        showModal: false,\r\n        srcImgModal: '',\r\n        altImgModal: ''\r\n      });\r\n    };\r\n  };\r\n\r\n\r\n\r\n  render() {\r\n    const imageData = this.props.imageData;\r\n    const { showModal, srcImgModal, altImgModal } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <ul className=\"ImageGallery\">\r\n        {imageData.map(el => (\r\n          <ImageGalleryItem\r\n            onClickGalleryItem={this.openModal}\r\n            key={uuidv4()}\r\n            src={el.webformatURL}\r\n            srcOriginal={el.largeImageURL}\r\n            id={el.id}\r\n            alt={el.tags}\r\n          />\r\n        ))}\r\n      </ul>\r\n        {showModal &&\r\n          <Modal\r\n            srcImgModal={srcImgModal}\r\n            altImgModal={altImgModal}\r\n            closeModalByClick={this.closeModalByClick}\r\n            closeModalByKeydown={this.closeModalByKeydown}\r\n          />}\r\n      </>\r\n      \r\n    );\r\n  };\r\n}\r\n  \r\n\r\nImageGallery.propsType = {\r\n  hits: PropTypes.array.isRequired\r\n};\r\n\r\n\r\nexport default ImageGallery;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Button = ({ loadMore }) => {\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      className=\"Button\"\r\n      data-action=\"load-more\"\r\n      onClick={loadMore}\r\n    >\r\n      Load more\r\n    </button>\r\n  )\r\n};\r\n\r\nButton.propTypes = {\r\n  loadMore: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;","import React from 'react';\r\nimport Loader from \"react-loader-spinner\";\r\nimport { createPortal } from 'react-dom';\r\nconst loaderRoot = document.getElementById('loader-root');\r\n\r\nconst LoaderWatch = () => {\r\n  return createPortal(\r\n    <Loader\r\n      className=\"Loader\"\r\n      type=\"ThreeDots\"\r\n      color=\"#3f51b5\"\r\n      height={100}\r\n      width={100}\r\n      timeout={5000}\r\n    />, loaderRoot\r\n  );\r\n};\r\n\r\nexport default LoaderWatch;\r\n","import React, { Component } from 'react';\nimport Searchbar from './Components/Searchbar';\nimport ImageGallery from './Components/ImageGallery';\nimport Button from './Components/Button';\nimport Loader from './Components/Loader';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\ntoast.configure();\n\nclass App extends Component {\n  state = {\n    searchQuery: null,\n    isLoading: false,\n    page: 1,\n    error: null,\n    hits: [],\n    totalHits: ''\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevSearchQuery = prevState.searchQuery;\n    const nextSearchQuery = this.state.searchQuery;\n    if (prevSearchQuery !== nextSearchQuery) {\n      this.getImageData();\n    };\n  };\n\n  getImageData = () => {\n    const { searchQuery, page } = this.state;\n\n    const apiKey = '19936431-665ecc9218a1e5c693259ad16';\n\n    this.setState({ isLoading: true });\n    \n    fetch(`https://pixabay.com/api/?key=${apiKey}&q=${searchQuery}&page=${page}&image_type=photo&orientation=horizontal&per_page=12`)\n      .then(res => res.json())\n      .then(\n        (result) => {\n          this.setState(prevState => ({\n            hits: [...prevState.hits, ...result.hits],\n            page: prevState.page + 1,\n            totalHits: result.totalHits\n          }));\n        },\n      )\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        this.setState({ isLoading: false });\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      });\n  };\n\n  onSubmit = (data) => {\n    if (!data) {\n      toast.warn('Please, enter any data');\n      return;\n    };\n\n    this.setState({ searchQuery: data, hits: [], page: 1 });\n  };\n\n\n  render() {\n    const { hits, isLoading, totalHits, page } = this.state;\n    return (\n      <>\n        \n        <Searchbar onSubmit={this.onSubmit}/>\n        <ImageGallery imageData={hits} >\n          \n        </ImageGallery>\n        {(hits.length > 0) && (((totalHits / 12) + 1) > page) && <Button loadMore={this.getImageData} />}\n        {isLoading && <Loader />}\n      </>\n    );\n  };\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}